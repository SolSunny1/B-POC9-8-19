<apex:page controller="SicCodeTree"  title="SIC Code Tree" >
  <!-- Include the Jquery Script files -->     
  <script src="{!URLFOR($Resource.Jquerytreeview,'jquery.min.js')}"></script>
  <link rel="stylesheet" href="{!URLFOR($Resource.Jquerytreeview,'/jquery.treeview.css')}"/>    
<script type="text/javascript" src="{!URLFOR($Resource.Jquerytreeview,'demo/demo.js')}"></script>
  <script src="{!URLFOR($Resource.Jquerytreeview,'demo/jquery.cookie.js')}" type="text/javascript"></script>     
  <script src="{!URLFOR($Resource.Jquerytreeview,'/jquery.treeview.js')}" type="text/javascript"></script>
  <!-- End of Javascript files --> 
  <script type="text/javascript">   
  
       
  $(function() 
  {             
  $("#tree").treeview({                 
  collapsed: false,                 
  animated: "medium",                 
  control:"#sidetreecontrol",                 
  persist: "location"            
  });          }) 
  </script>  <br/> <br/> <br/> 
  
  <apex:form >
  <apex:pageBlock title="Sic Code Tree" tabStyle="Account">
  <apex:pagemessages ></apex:pagemessages>
  <apex:pageBlockButtons >
                <apex:commandButton action="{!UpdateSicCode}" value="Update SIC Code" />
                <apex:commandButton action="{!Cancel}" value="Cancel" />
            </apex:pageBlockButtons>
  <!-- Tree --> 
  <div class="treeheader" style="height:0px;">&nbsp;</div> 
  <div id="sidetreecontrol">
  <a href="?#"><font style="color:blue;">Collapse All</font></a> | <a href="?#"><font style="color:blue;">Expand All</font></a><br></br>
  </div>  <ul id="tree">     
                    
       <apex:repeat value="{!maplastChildSicCode}" var="key">         
  <li><strong><apex:outputtext style="color:blue;" escape="false" value="{!key}"/></strong>              
  <ul>                  
          <apex:repeat value="{!maplastChildSicCode[key]}" var="val">         
      <li> <span class="formattextcon"> 
      <apex:inputCheckbox style="color:red;" value="{!val.objCheck}" /> 
      <!--<apex:inputfield style="color:red;" value="{!val.Sic_Code_Selected__c}"/>--><b></b> &nbsp;
      <apex:outputtext escape="false" value="{!val.objSic.Level_2__c}"/> </span> </li>                             
       
  </apex:repeat>        
  </ul>           
  </li>     
  </apex:repeat>           
  
  </ul> 
  
  
  </apex:pageBlock>
  </apex:form>
  <!-- End of Tree -->        
  </apex:page>